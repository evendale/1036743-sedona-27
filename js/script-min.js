var button=document.querySelector(".reservation-button"),form=document.querySelector(".reservation-container");if(null!=form){var firstDate=form.querySelector("[name=date-1]"),secondDate=form.querySelector("[name=date-2]"),adult=form.querySelector("[name=adult]"),children=form.querySelector("[name=children]"),formInput=form.querySelectorAll("input"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("adult")}catch(e){isStorageSupport=!1}form.classList.add("reservation-hide"),button.addEventListener("click",function(e){e.preventDefault(),form.classList.contains("reservation-hide")?(form.classList.remove("reservation-hide"),form.classList.remove("reservation-animation-close"),form.classList.add("reservation-animation-open"),setTimeout(function(){firstDate.focus()},2001),storage&&(adult.value=storage)):(form.classList.remove("reservation-animation-open"),form.classList.remove("reservation-error"),form.classList.add("reservation-animation-close"),form.classList.add("reservation-hide"))}),form.addEventListener("submit",function(e){if(firstDate.value&&secondDate.value&&adult.value&&children.value)isStorageSupport&&localStorage.setItem("adult",adult.value);else{e.preventDefault();for(var t=0;t<formInput.length;t++)formInput[t].classList.add("reservation-input-empty");form.classList.remove("reservation-error"),form.offsetWidth=form.offsetWidth,form.classList.add("reservation-error")}}),document.addEventListener("click",function(e){e.target.classList.contains("button-more")?++e.target.parentElement.querySelector("input").value:e.target.classList.contains("button-less")&&0<e.target.parentElement.querySelector("input").value&&--e.target.parentElement.querySelector("input").value}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),form.classList.contains("reservation-animation-open")&&(form.classList.remove("reservation-animation-open"),form.classList.add("reservation-animation-close")),form.classList.add("reservation-hide"))})}
